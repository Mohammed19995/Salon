!function(t){var e={};function a(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/",a(a.s=150)}({0:function(t,e,a){"use strict";function n(t,e,a,n,i,s,o,c){var r,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=a,l._compiled=!0),n&&(l.functional=!0),s&&(l._scopeId="data-v-"+s),o?(r=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=r):i&&(r=c?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i),r)if(l.functional){l._injectStyles=r;var d=l.render;l.render=function(t,e){return r.call(e),d(t,e)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,r):[r]}return{exports:t,options:l}}a.d(e,"a",(function(){return n}))},150:function(t,e,a){t.exports=a(151)},151:function(t,e,a){a(152),Vue.component("role-comp",a(176).default),a(153)},152:function(t,e){window.table;var a=function(){table=$("#role-table").DataTable({responsive:!0,searchDelay:500,processing:!0,serverSide:!0,language:dataTableLanguage(),drawCallback:function(t){vm.ids=[]},ajax:{url:api_urls.admin.role.get_remote,data:function(t){}},columns:[{data:"select_record",searchable:!1,orderable:!1},{data:"name.".concat(_locale),name:"name->".concat(_locale),width:"200px"},{data:"show_status",name:"status"},{data:"created_at"},{data:"actions",searchable:!1,orderable:!1}],columnDefs:[{width:200,targets:1}]})};jQuery(document).ready((function(){a()}))},153:function(t,e){window.vm=new Vue({el:"#app",data:{ids:[],option_id:"",option_url:api_urls.admin.role.execute_option,options:options,permissions:permissions,add:!0,data:"",shock_event:"",execute_loading:!1},created:function(){},methods:{setData:function(t,e){this.add=t,this.data=e,this.shock_event=makeid(32)},delete:function(t){var e=this;Swal.fire(get_translations.admin.deleting),axios.delete(api_urls.admin.role.add+"/"+t.id).then((function(t){handle_response(e,t.data,!1,!0)&&table.ajax.reload(null,!1)})).catch((function(t){handle_response(e,t.response.data,!1,!0),vm.loading=!1}))},emitExecuteOption:function(){this.ids=[],$("#check_all").prop("checked",!1),table.ajax.reload(null,!1)}}}),$(document).ready((function(){dataTableOperation(table,vm),checkBoxOptionDataTable(table,vm),$(".btn-ch").click((function(){$(this).find("input").is(":checked")?$(this).find("input").prop("checked",!1):$(this).find("input").prop("checked",!0),$(".ch_").change()})),$(".btn-ch-all").click((function(){$(this).find("input").is(":checked")?$(this).find("input").prop("checked",!1):$(this).find("input").prop("checked",!0),$("#ch_all").change()}));var t=0,e=0;$(".ch_").each((function(){t++,$(this).is(":checked")&&e++})),t!=e?$("#ch_all").prop("checked",!1):$("#ch_all").prop("checked",!0),$(".ch_").change((function(){var e=0;$(".ch_").each((function(){$(this).is(":checked")&&e++})),t!=e?$("#ch_all").prop("checked",!1):$("#ch_all").prop("checked",!0)})),$("#ch_all").change((function(){$(this).is(":checked")?$(".ch_").each((function(){$(this).prop("checked",!0)})):$(".ch_").each((function(){$(this).prop("checked",!1)}))}))}))},176:function(t,e,a){"use strict";a.r(e);var n={name:getMultiLangField()},i={props:["data","add","shock_event","permissions"],data:function(){return{multi_language_fields:["name"]}},filters:{},created:function(){this.setObjData()},methods:{setObjData:function(){this.obj_data=this.add?JSON.parse(JSON.stringify(n)):JSON.parse(JSON.stringify(this.data)),this.obj_data.permissions&&this.setChecked(this.obj_data.permissions.map((function(t){return t.id}))),this.add&&this.clearChecked()},makeAction:function(){this.add?this.addRole():this.updateRole()},addRole:function(){var t=this,e=new FormData;Object.keys(this.obj_data).forEach((function(a){e.append(a,t.multi_language_fields.includes(a)?JSON.stringify(t.obj_data[a]):t.obj_data[a])})),e.append("permission_ids",JSON.stringify(t.getChecked())),t.show_loading(),axios.post(api_urls.admin.role.add,e).then((function(e){t.hide_loading();handle_response(t,e.data,!0,!1);table.ajax.reload()})).catch((function(e){handle_response(t,e.response.data,!0,!1),t.hide_loading()}))},updateRole:function(){var t=this,e=new FormData;Object.keys(this.obj_data).forEach((function(a){e.append(a,t.multi_language_fields.includes(a)?JSON.stringify(t.obj_data[a]):t.obj_data[a])})),e.append("permission_ids",JSON.stringify(t.getChecked())),e.append("_method","PUT"),t.show_loading(),clear_message(t),axios.post(api_urls.admin.role.add+"/"+t.obj_data.id,e).then((function(e){t.hide_loading();handle_response(t,e.data,!0,!1);table.ajax.reload()})).catch((function(e){handle_response(t,e.response.data,!0,!1),t.hide_loading()}))},transParentPermission:function(t){return this.__("permissions."+t)},getChecked:function(){var t=[];return $(".ch_").each((function(){$(this).is(":checked")&&t.push($(this).val())})),t},setChecked:function(t){$(".ch_").each((function(){t.includes(parseInt($(this).val()))&&$(this).prop("checked",!0)})),this.checkAll()},clearChecked:function(t){$(".ch_").each((function(){$(this).prop("checked",!1)})),this.checkAll()},checkAll:function(){var t=0,e=0;$(".ch_").each((function(){t++,$(this).is(":checked")&&e++})),t!=e?$("#ch_all").prop("checked",!1):$("#ch_all").prop("checked",!0)}},watch:{shock_event:function(){this.setObjData(),this.msg={success:"",error:""}}}},s=a(0),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card card-custom gutter-b show-form hidden"},[a("div",{staticClass:"card-header"},[a("h3",{staticClass:"card-title",domProps:{textContent:t._s(t.add?t.__("admin.add_data"):t.__("admin.edit_data"))}})]),t._v(" "),a("form",{staticClass:"form"},[a("success-error-msg",{attrs:{success:t.msg.success,error:t.msg.error}}),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"form-group row"},t._l(t.locales,(function(e){return a("div",{staticClass:"col"},[a("label",[t._v(t._s(t.__("admin.name_"+e)))]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.obj_data.name[e],expression:"obj_data.name[locale]"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.__("admin.name_"+e)},domProps:{value:t.obj_data.name[e]},on:{input:function(a){a.target.composing||t.$set(t.obj_data.name,e,a.target.value)}}})])})),0),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"row"},t._l(t.permissions,(function(e,n){return a("div",{staticClass:"col-sm-3",staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"list-group"},[a("button",{staticClass:"list-group-item list-group-item-action active",attrs:{type:"button"}},[a("h5",{domProps:{textContent:t._s(t.transParentPermission(n))}})]),t._v(" "),t._l(e,(function(e){return a("button",{staticClass:"list-group-item list-group-item-action btn-ch",attrs:{type:"button",for:"ch"+e.id}},[a("div",{staticClass:"custom-control custom-checkbox"},[a("input",{staticClass:"custom-control-input ch_",attrs:{name:"roles[]",type:"checkbox",id:"ch"+e.id},domProps:{value:e.id}}),t._v(" "),a("label",{staticClass:"custom-control-label",attrs:{for:"ch"+e.id},domProps:{textContent:t._s(e.name[t.locale])}})])])}))],2)])})),0),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4"}),t._v(" "),a("div",{staticClass:"col-sm-2"},[a("button",{staticClass:"btn btn-primary mt-4",class:t.loading?"spinner spinner-white spinner-left":"",staticStyle:{width:"100%"},attrs:{type:"button",disabled:t.loading},on:{click:t.makeAction}},[t._v("\n                        "+t._s(t.__("admin.save"))+"\n                    ")])]),t._v(" "),a("div",{staticClass:"col-sm-2"},[a("button",{staticClass:"btn btn-default mt-4 cancel-button",staticStyle:{width:"100%"},attrs:{type:"button"}},[t._v("\n                        "+t._s(t.__("admin.cancel"))+"\n                    ")])])])])],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"list-group-item list-group-item-action btn-ch-all",attrs:{type:"button"}},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"ch_all"}}),this._v(" "),e("label",{staticClass:"custom-control-label",attrs:{for:"ch_all"}},[this._v("تحديد\n                        الكل")])])])}],!1,null,null,null);e.default=o.exports}});