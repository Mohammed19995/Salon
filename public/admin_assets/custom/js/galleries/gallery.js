!function(t){var e={};function a(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=t,a.c=e,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)a.d(i,s,function(e){return t[e]}.bind(null,s));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/",a(a.s=121)}({0:function(t,e,a){"use strict";function i(t,e,a,i,s,n,l,o){var r,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=a,c._compiled=!0),i&&(c.functional=!0),n&&(c._scopeId="data-v-"+n),l?(r=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(l)},c._ssrRegister=r):s&&(r=o?function(){s.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:s),r)if(c.functional){c._injectStyles=r;var d=c.render;c.render=function(t,e){return r.call(e),d(t,e)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,r):[r]}return{exports:t,options:c}}a.d(e,"a",(function(){return i}))},121:function(t,e,a){t.exports=a(122)},122:function(t,e,a){Vue.component("show-gallery-comp",a(167).default),Vue.component("gallery-form-comp",a(168).default)},167:function(t,e,a){"use strict";a.r(e);var i={props:["types"],data:function(){return{gallery:{images:[],search:"",type_id:-1,page:1,next_page_url:""},file_type:-1}},created:function(){var t=this;this.$root.$on("add-gallery-event",(function(e){console.log(e),e.forEach((function(e){t.gallery.images.unshift(e)}))})),this.$root.$on("edit-gallery-event",(function(e){var a=t.gallery.images.findIndex((function(t){return t.id==e.id}));Vue.set(t.gallery.images,a,e)})),this.$root.$on("delete-gallery-event",(function(e){var a=t.gallery.images.findIndex((function(t){return t.id==e.id}));t.gallery.images.splice(a,1)})),this.getImages(!1)},methods:{getImages:function(t){var e=this;this.gallery.page=t?this.gallery.page++:1,e.blockUI(".gallery_images"),axios.get(api_urls.admin.gallery.get_remote,{params:{search:e.gallery.search,type_id:e.gallery.type_id,file_type:e.file_type,page:e.gallery.page}}).then((function(a){t?a.data.data.forEach((function(t){e.gallery.images.push(t)})):e.gallery.images=a.data.data,e.gallery.next_page_url=a.data.next_page_url,e.UnblockUI(".gallery_images")})).catch((function(t){e.UnblockUI(".gallery_images")}))},showMore:function(){null!=this.gallery.next_page_url&&(this.gallery.page++,this.getImages(!0))},editGallery:function(t){this.$emit("edit-gallery",t)},deleteGallery:function(t){this.$emit("delete-gallery",t)}},watch:{"gallery.search":function(t){(t.length>=3||0==t.length)&&this.getImages(!1)},"gallery.type_id":function(t){this.getImages(!1)},file_type:function(){this.getImages(!1)}}},s=a(0),n=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 gallery_images"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6"},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.gallery.search,expression:"gallery.search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"search ..."},domProps:{value:t.gallery.search},on:{input:function(e){e.target.composing||t.$set(t.gallery,"search",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"col-sm-3"},[a("div",{staticClass:"form-group"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.gallery.type_id,expression:"gallery.type_id"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.gallery,"type_id",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"-1"}},[t._v(t._s(t.__("admin.all")))]),t._v(" "),t._l(t.types,(function(e){return a("option",{domProps:{value:e.id,textContent:t._s(e.name[t.locale])}})}))],2)])]),t._v(" "),a("div",{staticClass:"col-sm-3"},[a("div",{staticClass:"form-group"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.file_type,expression:"file_type"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.file_type=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"-1"}},[t._v(t._s(t.__("admin.all")))]),t._v(" "),a("option",{attrs:{value:"1"}},[t._v(t._s(t.__("admin.image_")))]),t._v(" "),a("option",{attrs:{value:"2"}},[t._v(t._s(t.__("admin.file")))])])])])]),t._v(" "),a("div",{staticClass:"row"},t._l(t.gallery.images,(function(e){return a("div",{staticClass:"pointer col-sm-2 mt-10"},[a("div",{staticClass:"image-input image-input-outline"},[a("div",{staticClass:"image-input-wrapper"},[e.mime_type.includes("image")?a("img",{attrs:{width:"120",height:"100",src:e.src}}):a("div",[t._m(0,!0),t._v(" "),a("div",{staticClass:"row mt-2"},[a("div",{staticClass:"col-sm-1"}),t._v(" "),a("div",{staticClass:"col-sm-10"},[a("a",{staticStyle:{float:"left"},attrs:{target:"_blank",href:e.src}},[t._v("\n                                        "+t._s(t.__("admin.download_file"))+"\n                                    ")])]),t._v(" "),a("div",{staticClass:"col-sm-1"})])])]),t._v(" "),a("label",{staticClass:"btn btn-xs btn-icon btn-circle btn-white btn-hover-text-primary btn-shadow",attrs:{"data-action":"change","data-toggle":"tooltip",title:"","data-original-title":"Change avatar"},on:{click:function(a){return t.editGallery(e)}}},[a("i",{staticClass:"fa fa-pen icon-sm text-muted"})]),t._v(" "),a("span",{staticClass:"btn btn-xs btn-icon btn-circle btn-white btn-hover-text-primary btn-shadow",staticStyle:{display:"block!important"},attrs:{"data-action":"cancel","data-toggle":"tooltip",title:"","data-original-title":"Cancel avatar"},on:{click:function(a){return t.deleteGallery(e)}}},[a("i",{staticClass:"ki ki-bold-close icon-xs text-muted"})])]),t._v(" "),a("div",{staticStyle:{margin:"17px"}},[t._v(t._s(t.__("admin.name"))+" : "+t._s(e.name[t.locale]))])])})),0),t._v(" "),a("div",{staticClass:"row mt-4"},[a("div",{staticClass:"col-sm-4"}),t._v(" "),a("div",{staticClass:"col-sm-4"},[a("button",{staticClass:"btn btn-primary btn-sm mr-2",attrs:{type:"button"},on:{click:t.showMore}},[t._v("\n                    "+t._s(t.__("admin.show_more"))+"\n                ")])]),t._v(" "),a("div",{staticClass:"col-sm-4"})])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row",staticStyle:{"margin-top":"18%"}},[e("div",{staticClass:"col-sm-3"}),this._v(" "),e("div",{staticClass:"col-sm-6"},[e("i",{staticClass:"fas fa-download fa-3x",staticStyle:{color:"#0000ff94"}})]),this._v(" "),e("div",{staticClass:"col-sm-2"})])}],!1,null,null,null);e.default=n.exports},168:function(t,e,a){"use strict";a.r(e);var i={name:getMultiLangField(),type_id:"",src:""},s={props:["file1_data","types","data","add","shock_event"],created:function(){this.setObjData()},data:function(){return{multi_language_fields:["name"]}},methods:{setObjData:function(){this.obj_data=this.add?JSON.parse(JSON.stringify(i)):JSON.parse(JSON.stringify(this.data))},makeAction:function(){this.add?this.addGallery():this.updateGallery()},addGallery:function(){var t=this,e=new FormData;Object.keys(this.obj_data).forEach((function(a){e.append(a,t.multi_language_fields.includes(a)?JSON.stringify(t.obj_data[a]):t.obj_data[a])})),t.show_loading(),axios.post(api_urls.admin.gallery.add,e).then((function(e){t.hide_loading();var a=handle_response(t,e.data,!0,!1);a.status&&(t.$root.$emit("add-gallery-event",e.data.data.galleries),a.status&&setTimeout((function(){$("#galleryImageForm").modal("hide")}),1500))})).catch((function(e){handle_response(t,e.response.data,!0,!1),t.hide_loading()}))},updateGallery:function(){var t=this,e=new FormData;Object.keys(this.obj_data).forEach((function(a){e.append(a,t.multi_language_fields.includes(a)?JSON.stringify(t.obj_data[a]):t.obj_data[a])})),e.append("_method","PUT"),t.show_loading(),clear_message(t),axios.post(api_urls.admin.gallery.add+"/"+t.obj_data.id,e).then((function(e){t.hide_loading();var a=handle_response(t,e.data,!0,!1);t.$root.$emit("edit-gallery-event",e.data.data.gallery),a.status&&setTimeout((function(){$("#galleryImageForm").modal("hide")}),1500)})).catch((function(e){handle_response(t,e.response.data,!0,!1),t.hide_loading()}))}},watch:{shock_event:function(){this.setObjData(),this.msg={success:"",error:""}}}},n=a(0),l=Object(n.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:"galleryImageForm","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdrop","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",staticStyle:{"max-width":"55%"},attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"},domProps:{textContent:t._s(t.add?t.__("admin.add_data"):t.__("admin.edit_data"))}}),t._v(" "),t._m(0)]),t._v(" "),a("div",{staticClass:"modal-body"},[a("success-error-msg",{attrs:{success:t.msg.success,error:t.msg.error}}),t._v(" "),a("form",{staticClass:"form"},[a("div",{staticClass:"row mb-5"},t._l(t.locales,(function(e){return a("div",{staticClass:"col-lg-6"},[a("label",[t._v(t._s(t.__("admin.name_"+e)))]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.obj_data.name[e],expression:"obj_data.name[locale]"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.__("admin.name_"+e)},domProps:{value:t.obj_data.name[e]},on:{input:function(a){a.target.composing||t.$set(t.obj_data.name,e,a.target.value)}}})])})),0),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-6"},[a("label",[t._v(" "+t._s(t.__("admin.gallery_type")))]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.obj_data.type_id,expression:"obj_data.type_id"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.obj_data,"type_id",e.target.multiple?a:a[0])}}},t._l(t.types,(function(e){return a("option",{domProps:{value:e.id,textContent:t._s(e.name[t.locale])}})})),0)]),t._v(" "),a("div",{staticClass:"form-group col-sm-6"},[a("advance-image-comp",{attrs:{attr_name:"src",shock_event:t.shock_event,original_image:t.obj_data.src,file1_data:t.file1_data,selector_id_image:"image1",image_name:t.__("admin.image")},on:{getEmitFile:t.getEmitFile}})],1)])])],1),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",class:t.loading?"spinner spinner-white spinner-left":"",attrs:{type:"button",disabled:t.loading},on:{click:t.makeAction}},[t._v("\n                    "+t._s(t.__("admin.save"))+"\n                ")]),t._v(" "),a("button",{staticClass:"btn btn-light-primary font-weight-bold",attrs:{type:"button","data-dismiss":"modal"}},[t._v("\n                    "+t._s(t.__("admin.cancel"))+"\n                ")])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("i",{staticClass:"ki ki-close",attrs:{"aria-hidden":"true"}})])}],!1,null,null,null);e.default=l.exports}});